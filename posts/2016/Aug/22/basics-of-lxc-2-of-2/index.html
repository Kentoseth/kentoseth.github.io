
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="True" name="HandheldFriendly"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="" name="robots"/>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&amp;family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&amp;display=swap" rel="stylesheet"/>
<link href="https://kentoseth.github.io/theme/stylesheet/style.min.css" rel="stylesheet" type="text/css"/>
<link href="https://kentoseth.github.io/theme/pygments/monokai.min.css" id="pygments-light-theme" rel="stylesheet" type="text/css"/>
<link href="https://kentoseth.github.io/theme/font-awesome/css/fontawesome.css" rel="stylesheet" type="text/css"/>
<link href="https://kentoseth.github.io/theme/font-awesome/css/brands.css" rel="stylesheet" type="text/css"/>
<link href="https://kentoseth.github.io/theme/font-awesome/css/solid.css" rel="stylesheet" type="text/css"/>
<link href="https://kentoseth.github.io/static/custom.css" rel="stylesheet"/>
<link href="https://kentoseth.github.io/feeds/all.atom.xml" rel="alternate" title="Kentoseth - Thoughts on programming, culture, FOSS and more Atom" type="application/atom+xml"/>
<!-- Chrome, Firefox OS and Opera -->
<meta content="#333333" name="theme-color"/>
<!-- Windows Phone -->
<meta content="#333333" name="msapplication-navbutton-color"/>
<!-- iOS Safari -->
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<!-- Microsoft EDGE -->
<meta content="#333333" name="msapplication-TileColor"/>
<meta content="Mohamed H." name="author">
<meta content="Basic intro to LXC" name="description">
<meta content="ubuntu, LXC, docker" name="keywords"/>
<meta content="Kentoseth - Thoughts on programming, culture, FOSS and more" property="og:site_name">
<meta content="Basics of LXC: 2 of 2" property="og:title">
<meta content="Basic intro to LXC" property="og:description">
<meta content="en_US" property="og:locale">
<meta content="https://kentoseth.github.io/posts/2016/Aug/22/basics-of-lxc-2-of-2/" property="og:url"/>
<meta content="article" property="og:type"/>
<meta content="2016-08-22 02:00:00+02:00" property="article:published_time"/>
<meta content="" property="article:modified_time"/>
<meta content="https://kentoseth.github.io/author/mohamed-h.html" property="article:author"/>
<meta content="LXC" property="article:section">
<meta content="ubuntu" property="article:tag"/>
<meta content="LXC" property="article:tag"/>
<meta content="docker" property="article:tag"/>
<meta content="/images/avatar.jpg" property="og:image"/>
<title>Kentoseth - Thoughts on programming, culture, FOSS and more – Basics of LXC: 2 of 2</title>
</meta></meta></meta></meta></meta></meta></meta><link href="https://kentoseth.github.io/posts/2016/Aug/22/basics-of-lxc-2-of-2/" rel="canonical"/><script type="application/ld+json">{"@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{"@type": "ListItem", "position": 1, "name": "Kentoseth - Thoughts on programming, culture, FOSS and more", "item": "https://kentoseth.github.io"}, {"@type": "ListItem", "position": 2, "name": "Posts", "item": "https://kentoseth.github.io/posts"}, {"@type": "ListItem", "position": 3, "name": "2016", "item": "https://kentoseth.github.io/posts/2016"}, {"@type": "ListItem", "position": 4, "name": "Aug", "item": "https://kentoseth.github.io/posts/2016/Aug"}, {"@type": "ListItem", "position": 5, "name": "22", "item": "https://kentoseth.github.io/posts/2016/Aug/22"}, {"@type": "ListItem", "position": 6, "name": "Basics of lxc 2 of 2", "item": "https://kentoseth.github.io/posts/2016/Aug/22/basics-of-lxc-2-of-2"}, {"@type": "ListItem", "position": 7, "name": "Index", "item": "https://kentoseth.github.io/posts/2016/Aug/22/basics-of-lxc-2-of-2/index.html"}]}</script><script type="application/ld+json">{"@context": "https://schema.org", "@type": "Article", "author": {"@type": "Person", "name": "Mohamed H."}, "publisher": {"@type": "Organization", "name": "Kentoseth - Thoughts on programming, culture, FOSS and more"}, "headline": "Basics of LXC: 2 of 2", "about": "LXC", "datePublished": "2016-08-22 02:00"}</script></head>
<body class="light-theme">
<aside>
<div>
<a href="https://kentoseth.github.io">
<img alt="Kentoseth" src="/images/avatar.jpg" title="Kentoseth"/>
</a>
<h1>
<a href="https://kentoseth.github.io">Kentoseth</a>
</h1>
<p>Coding. Culture. Linux. More.</p>
<nav>
<ul class="list">
<li>
<a href="https://kentoseth.github.io/pages/about-me/" target="_self">
                  About me
                </a>
</li>
<li>
<a href="https://kentoseth.github.io/pages/projects/" target="_self">
                  Projects
                </a>
</li>
<li>
<a href="mailto:kentoseth@devcroo.com?Subject=Blog%20Hello%20there" target="_self">Email</a>
</li>
<li>
<a href="/categories.html" target="_self">Categories</a>
</li>
</ul>
</nav>
<form action="https://tinyletter.com/Kentoseth" method="post" onsubmit="window.open('https://tinyletter.com/Kentoseth', 'popupwindow', 
        'scrollbars=yes,width=800,height=600');return true" style="border:1px solid #ccc;padding:3px;text-align:center;" target="popupwindow">
<p><label for="tlemail">Join my Newsletter</label></p>
<p><input id="tlemail" name="email" style="width:140px" type="text"/></p>
<input name="embed" type="hidden" value="1"/>
<input type="submit" value="Subscribe"/>
<p><a href="https://tinyletter.com" rel="noopener noreferrer" target="_blank">powered by TinyLetter</a></p>
</form>
<ul class="social">
<li>
<a class="sc-github-alt" href="https://github.com/Kentoseth" target="_blank">
<i class="fab fa-github-alt"></i>
</a>
</li>
<li>
<a class="sc-gitlab" href="https://gitlab.com/Kentoseth" target="_blank">
<i class="fab fa-gitlab"></i>
</a>
</li>
<li>
<a class="sc-envelope" href="mailto:kentoseth@devcroo.com?Subject=Blog%20Hello%20there" target="_blank">
<i class="fas fa-envelope"></i>
</a>
</li>
<li>
<a class="sc-rss" href="https://kentoseth.tk/feeds/all.atom.xml" target="_blank">
<i class="fas fa-rss"></i>
</a>
</li>
<li>
<a class="sc-mastodon" href="https://fosstodon.org/@kentoseth" rel="me" target="_blank">
<i class="fab fa-mastodon"></i>
</a>
</li>
</ul>
</div>
</aside>
<main>
<nav>
<a href="https://kentoseth.github.io">Home</a>
<a href="/categories">Categories</a>
<a href="/tags">Tags</a>
<a href="https://kentoseth.github.io/feeds/all.atom.xml">Atom</a>
</nav>
<article class="single">
<header>
<h1 id="basics-of-lxc-2-of-2">Basics of LXC: 2 of 2</h1>
<p>
      Posted on Mon 22 August 2016 in <a href="https://kentoseth.github.io/category/lxc.html">LXC</a>
</p>
</header>
<div>
<p>In my previous blog post, I mentioned why I moved from Docker to LXC (reference: <a href="https://kentoseth.github.io/2016/May/17/moving-from-docker-to-lxc-1-of-2-the-why/">here</a> ).</p>
<p>I also mentioned 7 basic commands you will need to get started with LXC. I will list them and walk-through each below.</p>
<h3>Container Basics</h3>
<p>Let us start by creating and starting a container:</p>
<div class="highlight"><pre><span></span><code>sudo lxc-create -n myfirstcont -t ubuntu
sudo lxc-start -n myfirstcont -d
</code></pre></div>
<p>The first command will create a container called <code>myfirstcont</code> from the <em>remote</em> Ubuntu template.</p>
<p>After the first command has successfully executed, you can start the container using the second command (lxc-start).</p>
<p>Next, we will get <em>into</em> the container:</p>
<p><code>sudo lxc-attach -n myfirstcont</code></p>
<p>This command will take you into the container as the root user.</p>
<p>Once you are in the container, you can work with it as you normally would in a regular Ubuntu OS (although a number of regular/standard packages may not be present).</p>
<p>Now that we started our container and we have also managed to get <em>within</em> the container (via lxc-attach), we may need to obtain some information about the container to work with it externally.</p>
<p>A common example is when we start an HTTP-server within the container (and bind the server to the 0.0.0.0 IP). To obtain the IP-address assigned to the container (as well as other basic information), we will use:</p>
<p><code>sudo lxc-info -n myfirstcont</code></p>
<p>You will get a basic amount of information using the <code>lxc-info</code> option.</p>
<p>The next 2 commands will stop and destroy your container.</p>
<p>Stopping:</p>
<p><code>sudo lxc-stop -n myfirstcont</code></p>
<p>Destroying:</p>
<p><code>sudo lxc-destroy -n myfirstcont</code></p>
<p>The container itself will be destroyed, but your template (somewhat similar to a Docker image) will still exist.</p>
<p>The last command is to list all containers on your system. The command will list all containers, regardless of state:</p>
<p><code>sudo lxc-ls</code></p>
<p>One important thing to mention about this tutorial is that we are using the default LXC instructions and creating <em>priviledged</em> containers by using <code>sudo</code>. I recommend reading up about the priviledged/unpriviledged aspects of containers <a href="https://help.ubuntu.com/lts/serverguide/lxc.html#lxc-basic-usage">here</a> .</p>
<h3>Mounting</h3>
<p>In my first post, I mentioned that mounting from the host &gt; container or vice-versa took a bit of time to figure out. For the purposes of simplicity and ease-of-use for anyone reading this, here is a set of commands to use for mounting.</p>
<p>Host-to-container:</p>
<p><code>sudo mount --bind /var/lib/lxc/myfirstcont/rootfs/home/ubuntu/myfolder/ /Project/path/to/hostfolder</code></p>
<p>Container-to-host:</p>
<p><code>sudo mount --bind /Project/path/to/hostfolder /var/lib/lxc/myfirstcont/rootfs/home/ubuntu/myfolder</code></p>
<h3>Installing small Python library in a container</h3>
<p>If you have not destroyed the container you created above, let us go ahead and restart the container:</p>
<div class="highlight"><pre><span></span><code>sudo lxc-start -n myfirstcont -d
sudo lxc-attach -n myfirstcont
</code></pre></div>
<p>You should be attached as the root-user within the container.</p>
<p>Now run:</p>
<div class="highlight"><pre><span></span><code>apt-get update
apt-get upgrade
apt-get install -y python3-pip
pip3 install pelican markdown
</code></pre></div>
<p>You have now successfully created an LXC container for the static site-generator <a href="http://blog.getpelican.com/">Pelican</a> .</p>
<h3>LXD as an easier LXC-manager</h3>
<p>In the final part of this blog post, I would like to mention <a href="https://linuxcontainers.org/lxd/">LXD</a> .</p>
<p>Although the link above explains things better than I can, LXD is a very useful LXC-manager. It provides unpriviledged containers by default and uses the Docker image/container approach (instead of templates).</p>
<p>LXD provides a host of other features that would be useful for large-scale container-management.</p>
<p>I would strongly urge anyone interested in using LXC-containers in production to consider using LXD to manage your infrastructure.</p>
</div>
<div class="tag-cloud">
<p>
<a href="https://kentoseth.github.io/tag/ubuntu.html">ubuntu</a>
<a href="https://kentoseth.github.io/tag/lxc.html">LXC</a>
<a href="https://kentoseth.github.io/tag/docker.html">docker</a>
</p>
</div>
<hr/>
<h3>If you don't know how to use RSS and want email updates on my new content, consider
         <a href="https://tinyletter.com/Kentoseth" rel="noopener noreferrer" target="_blank">
          Joining my Newsletter</a></h3>
<p><em>The original content of this blog is a Waqf solely for the Pleasure of Allah. You are hereby granted full permission to copy, download, distribute, publish and share this content without modification under condition that full attribution is given to this author by creating a link either above or below the content that links back to the original source of the content. For any questions or ambiguity, you are requested to contact me via email for clarification.</em></p>
</article>
<footer>
<p>© 2023 </p>
<p>
Built with <a href="https://getpelican.com" target="_blank">Pelican</a> using <a href="https://github.com/alexandrevicenzi/Flex" target="_blank">Flex</a> theme
</p> </footer>
</main>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Kentoseth - Thoughts on programming, culture, FOSS and more ",
  "url" : "https://kentoseth.github.io",
  "image": "/images/avatar.jpg",
  "description": "Content focused on Islam, Islamic Studies, Languages, Linux, FOSS, infosec and culture"
}
</script>
</body>
</html>